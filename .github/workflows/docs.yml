# Documentation Workflow
# Builds and deploys MkDocs documentation to GitHub Pages.
#
# Features:
#   - MkDocs Material theme build
#   - GitHub Pages deployment on push to main
#   - PR preview builds
#
# Uses reusable workflow from: ByronWilliamsCPA/.github
name: Documentation

on:
  push:
    branches: [main, master]
    paths:
      - 'docs/**'
      - 'mkdocs.yml'
      - '.github/workflows/docs.yml'
  pull_request:
    paths:
      - 'docs/**'
      - 'mkdocs.yml'
  workflow_dispatch:

permissions:
  contents: write
  pages: write
  id-token: write

jobs:
  docs:
    uses: ByronWilliamsCPA/.github/.github/workflows/python-docs.yml@main
    with:
      python-version: '3.12'
      docs-directory: 'docs'
      source-directory: 'src'
      deploy-to-pages: true
      docstring-threshold: 80
